{
  "version": 3,
  "sources": ["../../../../../../node_modules/ol/has.js", "../../../../../../node_modules/ol/dom.js"],
  "sourcesContent": ["/**\n * @module ol/has\n */\nvar ua = typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined' ? navigator.userAgent.toLowerCase() : '';\n/**\n * User agent string says we are dealing with Firefox as browser.\n * @type {boolean}\n */\nexport var FIREFOX = ua.indexOf('firefox') !== -1;\n/**\n * User agent string says we are dealing with Safari as browser.\n * @type {boolean}\n */\nexport var SAFARI = ua.indexOf('safari') !== -1 && ua.indexOf('chrom') == -1;\n/**\n * User agent string says we are dealing with a WebKit engine.\n * @type {boolean}\n */\nexport var WEBKIT = ua.indexOf('webkit') !== -1 && ua.indexOf('edge') == -1;\n/**\n * User agent string says we are dealing with a Mac as platform.\n * @type {boolean}\n */\nexport var MAC = ua.indexOf('macintosh') !== -1;\n/**\n * The ratio between physical pixels and device-independent pixels\n * (dips) on the device (`window.devicePixelRatio`).\n * @const\n * @type {number}\n * @api\n */\nexport var DEVICE_PIXEL_RATIO = typeof devicePixelRatio !== 'undefined' ? devicePixelRatio : 1;\n/**\n * The execution context is a worker with OffscreenCanvas available.\n * @const\n * @type {boolean}\n */\nexport var WORKER_OFFSCREEN_CANVAS = typeof WorkerGlobalScope !== 'undefined' && typeof OffscreenCanvas !== 'undefined' && self instanceof WorkerGlobalScope; //eslint-disable-line\n/**\n * Image.prototype.decode() is supported.\n * @type {boolean}\n */\nexport var IMAGE_DECODE = typeof Image !== 'undefined' && Image.prototype.decode;\n/**\n * @type {boolean}\n */\nexport var PASSIVE_EVENT_LISTENERS = function () {\n  var passive = false;\n  try {\n    var options = Object.defineProperty({}, 'passive', {\n      get: function () {\n        passive = true;\n      }\n    });\n    window.addEventListener('_', null, options);\n    window.removeEventListener('_', null, options);\n  } catch (error) {\n    // passive not supported\n  }\n  return passive;\n}();\n", "import { WORKER_OFFSCREEN_CANVAS } from './has.js';\n/**\n * @module ol/dom\n */\n//FIXME Move this function to the canvas module\n/**\n * Create an html canvas element and returns its 2d context.\n * @param {number=} opt_width Canvas width.\n * @param {number=} opt_height Canvas height.\n * @param {Array<HTMLCanvasElement>=} opt_canvasPool Canvas pool to take existing canvas from.\n * @return {CanvasRenderingContext2D} The context.\n */\nexport function createCanvasContext2D(opt_width, opt_height, opt_canvasPool) {\n  var canvas = opt_canvasPool && opt_canvasPool.length ? opt_canvasPool.shift() : WORKER_OFFSCREEN_CANVAS ? new OffscreenCanvas(opt_width || 300, opt_height || 300) : document.createElement('canvas');\n  if (opt_width) {\n    canvas.width = opt_width;\n  }\n  if (opt_height) {\n    canvas.height = opt_height;\n  }\n  //FIXME Allow OffscreenCanvasRenderingContext2D as return type\n  return /** @type {CanvasRenderingContext2D} */canvas.getContext('2d');\n}\n/**\n * Get the current computed width for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerWidth(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The width.\n */\nexport function outerWidth(element) {\n  var width = element.offsetWidth;\n  var style = getComputedStyle(element);\n  width += parseInt(style.marginLeft, 10) + parseInt(style.marginRight, 10);\n  return width;\n}\n/**\n * Get the current computed height for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerHeight(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The height.\n */\nexport function outerHeight(element) {\n  var height = element.offsetHeight;\n  var style = getComputedStyle(element);\n  height += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n  return height;\n}\n/**\n * @param {Node} newNode Node to replace old node\n * @param {Node} oldNode The node to be replaced\n */\nexport function replaceNode(newNode, oldNode) {\n  var parent = oldNode.parentNode;\n  if (parent) {\n    parent.replaceChild(newNode, oldNode);\n  }\n}\n/**\n * @param {Node} node The node to remove.\n * @returns {Node} The node that was removed or null.\n */\nexport function removeNode(node) {\n  return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n}\n/**\n * @param {Node} node The node to remove the children from.\n */\nexport function removeChildren(node) {\n  while (node.lastChild) {\n    node.removeChild(node.lastChild);\n  }\n}\n/**\n * Transform the children of a parent node so they match the\n * provided list of children.  This function aims to efficiently\n * remove, add, and reorder child nodes while maintaining a simple\n * implementation (it is not guaranteed to minimize DOM operations).\n * @param {Node} node The parent node whose children need reworking.\n * @param {Array<Node>} children The desired children.\n */\nexport function replaceChildren(node, children) {\n  var oldChildren = node.childNodes;\n  for (var i = 0; true; ++i) {\n    var oldChild = oldChildren[i];\n    var newChild = children[i];\n    // check if our work is done\n    if (!oldChild && !newChild) {\n      break;\n    }\n    // check if children match\n    if (oldChild === newChild) {\n      continue;\n    }\n    // check if a new child needs to be added\n    if (!oldChild) {\n      node.appendChild(newChild);\n      continue;\n    }\n    // check if an old child needs to be removed\n    if (!newChild) {\n      node.removeChild(oldChild);\n      --i;\n      continue;\n    }\n    // reorder\n    node.insertBefore(newChild, oldChild);\n  }\n}\n"],
  "mappings": ";AAGA,IAAI,KAAK,OAAO,cAAc,eAAe,OAAO,UAAU,cAAc,cAAc,UAAU,UAAU,YAAY,IAAI;AAKvH,IAAI,UAAU,GAAG,QAAQ,SAAS,MAAM;AAKxC,IAAI,SAAS,GAAG,QAAQ,QAAQ,MAAM,MAAM,GAAG,QAAQ,OAAO,KAAK;AAKnE,IAAI,SAAS,GAAG,QAAQ,QAAQ,MAAM,MAAM,GAAG,QAAQ,MAAM,KAAK;AAKlE,IAAI,MAAM,GAAG,QAAQ,WAAW,MAAM;AAQtC,IAAI,qBAAqB,OAAO,qBAAqB,cAAc,mBAAmB;AAMtF,IAAI,0BAA0B,OAAO,sBAAsB,eAAe,OAAO,oBAAoB,eAAe,gBAAgB;AAKpI,IAAI,eAAe,OAAO,UAAU,eAAe,MAAM,UAAU;AAInE,IAAI,0BAA0B,WAAY;AAC/C,MAAI,UAAU;AACd,MAAI;AACF,QAAI,UAAU,OAAO,eAAe,CAAC,GAAG,WAAW;AAAA,MACjD,KAAK,WAAY;AACf,kBAAU;AAAA,MACZ;AAAA,IACF,CAAC;AACD,WAAO,iBAAiB,KAAK,MAAM,OAAO;AAC1C,WAAO,oBAAoB,KAAK,MAAM,OAAO;AAAA,EAC/C,SAAS,OAAO;AAAA,EAEhB;AACA,SAAO;AACT,EAAE;;;AChDK,SAAS,sBAAsB,WAAW,YAAY,gBAAgB;AAC3E,MAAI,SAAS,kBAAkB,eAAe,SAAS,eAAe,MAAM,IAAI,0BAA0B,IAAI,gBAAgB,aAAa,KAAK,cAAc,GAAG,IAAI,SAAS,cAAc,QAAQ;AACpM,MAAI,WAAW;AACb,WAAO,QAAQ;AAAA,EACjB;AACA,MAAI,YAAY;AACd,WAAO,SAAS;AAAA,EAClB;AAEA;AAAA;AAAA,IAA8C,OAAO,WAAW,IAAI;AAAA;AACtE;AAQO,SAAS,WAAW,SAAS;AAClC,MAAI,QAAQ,QAAQ;AACpB,MAAI,QAAQ,iBAAiB,OAAO;AACpC,WAAS,SAAS,MAAM,YAAY,EAAE,IAAI,SAAS,MAAM,aAAa,EAAE;AACxE,SAAO;AACT;AAQO,SAAS,YAAY,SAAS;AACnC,MAAI,SAAS,QAAQ;AACrB,MAAI,QAAQ,iBAAiB,OAAO;AACpC,YAAU,SAAS,MAAM,WAAW,EAAE,IAAI,SAAS,MAAM,cAAc,EAAE;AACzE,SAAO;AACT;AAKO,SAAS,YAAY,SAAS,SAAS;AAC5C,MAAI,SAAS,QAAQ;AACrB,MAAI,QAAQ;AACV,WAAO,aAAa,SAAS,OAAO;AAAA,EACtC;AACF;AAKO,SAAS,WAAW,MAAM;AAC/B,SAAO,QAAQ,KAAK,aAAa,KAAK,WAAW,YAAY,IAAI,IAAI;AACvE;AAIO,SAAS,eAAe,MAAM;AACnC,SAAO,KAAK,WAAW;AACrB,SAAK,YAAY,KAAK,SAAS;AAAA,EACjC;AACF;AASO,SAAS,gBAAgB,MAAM,UAAU;AAC9C,MAAI,cAAc,KAAK;AACvB,WAAS,IAAI,GAAG,MAAM,EAAE,GAAG;AACzB,QAAI,WAAW,YAAY,CAAC;AAC5B,QAAI,WAAW,SAAS,CAAC;AAEzB,QAAI,CAAC,YAAY,CAAC,UAAU;AAC1B;AAAA,IACF;AAEA,QAAI,aAAa,UAAU;AACzB;AAAA,IACF;AAEA,QAAI,CAAC,UAAU;AACb,WAAK,YAAY,QAAQ;AACzB;AAAA,IACF;AAEA,QAAI,CAAC,UAAU;AACb,WAAK,YAAY,QAAQ;AACzB,QAAE;AACF;AAAA,IACF;AAEA,SAAK,aAAa,UAAU,QAAQ;AAAA,EACtC;AACF;",
  "names": []
}
