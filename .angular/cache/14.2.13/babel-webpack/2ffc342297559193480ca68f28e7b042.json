{"ast":null,"code":"import { FormGroup } from '@angular/forms';\nimport { Order } from '@datorama/akita';\nimport { Observable } from 'rxjs';\nimport { tiposdeOrdenacion } from '../menu-ordenacion/menu-ordenacion.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/state/picos.query\";\nimport * as i2 from \"src/app/state/picos.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../search-bar/search-bar.component\";\nimport * as i7 from \"../menu-ordenacion/menu-ordenacion.component\";\nfunction ListadoPicosComponent_ng_container_7_div_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"img\", 23);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const pico_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"assets/img/\", pico_r4.imagen, \"\", i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ListadoPicosComponent_ng_container_7_div_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 24);\n  }\n}\nfunction ListadoPicosComponent_ng_container_7_div_1_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"S\\u00ED\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListadoPicosComponent_ng_container_7_div_1_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"No\");\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/detalle\", a1];\n};\nconst _c1 = function (a1, a2) {\n  return {\n    \"btn btn-block align-self-end w-100\": true,\n    \"btn-outline-secondary\": a1,\n    \"btn-secondary\": a2\n  };\n};\nfunction ListadoPicosComponent_ng_container_7_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15);\n    i0.ɵɵtemplate(2, ListadoPicosComponent_ng_container_7_div_1_ng_container_2_Template, 2, 1, \"ng-container\", 7);\n    i0.ɵɵtemplate(3, ListadoPicosComponent_ng_container_7_div_1_ng_template_3_Template, 1, 0, \"ng-template\", null, 16, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(5, \"div\", 17)(6, \"h2\", 18);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"h3\", 19);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"a\", 20);\n    i0.ɵɵtext(13, \"+ M\\u00E1s info\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ListadoPicosComponent_ng_container_7_div_1_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const pico_r4 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.clickAscendido(pico_r4));\n    });\n    i0.ɵɵtext(15, \"Ascendido: \");\n    i0.ɵɵtemplate(16, ListadoPicosComponent_ng_container_7_div_1_span_16_Template, 2, 0, \"span\", 7);\n    i0.ɵɵtemplate(17, ListadoPicosComponent_ng_container_7_div_1_ng_template_17_Template, 1, 0, \"ng-template\", null, 22, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const pico_r4 = ctx.$implicit;\n    const _r6 = i0.ɵɵreference(4);\n    const _r9 = i0.ɵɵreference(18);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", pico_r4.imagen)(\"ngIfElse\", _r6);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", pico_r4.nombre, \" (\", i0.ɵɵpipeBind3(8, 9, pico_r4.altura, \"3.0-1\", \"es\"), \"m)\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(pico_r4.concejo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(13, _c0, pico_r4.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(15, _c1, !pico_r4.ascendido, pico_r4.ascendido));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", pico_r4.ascendido)(\"ngIfElse\", _r9);\n  }\n}\nconst _c2 = function () {\n  return [\"/progreso\"];\n};\nfunction ListadoPicosComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ListadoPicosComponent_ng_container_7_div_1_Template, 19, 18, \"div\", 9);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementStart(3, \"div\", 10)(4, \"a\", 11);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 12);\n    i0.ɵɵelement(6, \"use\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" Ver progreso\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 2, ctx_r0.picos$));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c2));\n  }\n}\nfunction ListadoPicosComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"p\");\n    i0.ɵɵtext(2, \"No hay resultados para la b\\u00FAsqueda\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class ListadoPicosComponent {\n  constructor(picosQuery, picosService) {\n    this.picosQuery = picosQuery;\n    this.picosService = picosService;\n    this.picos$ = new Observable();\n    this.listadoPicos = new FormGroup({});\n  }\n  ngOnInit() {\n    this.picos$ = this.picosQuery.selectAll();\n  }\n  clickAscendido(pico) {\n    this.picosService.toggleAscendido(pico);\n  }\n  nuevaBusqueda(searchTerm) {\n    this.picos$ = this.picosQuery.parameterizedSelectAll({\n      searchText: searchTerm\n    });\n  }\n  cambiarOrdenacion(nuevaOrdenacion) {\n    switch (nuevaOrdenacion) {\n      case tiposdeOrdenacion.altituddesc:\n        this.picos$ = this.picosQuery.parameterizedSelectAll({\n          sortBy: 'altura',\n          sortByOrder: Order.DESC\n        });\n        break;\n      case tiposdeOrdenacion.altitudasc:\n        this.picos$ = this.picosQuery.parameterizedSelectAll({\n          sortBy: 'altura',\n          sortByOrder: Order.ASC\n        });\n        break;\n      case tiposdeOrdenacion.nombrepicoalfabetico:\n        this.picos$ = this.picosQuery.parameterizedSelectAll({\n          sortBy: 'nombre',\n          sortByOrder: Order.ASC\n        });\n        break;\n      default:\n        this.picos$ = this.picosQuery.parameterizedSelectAll({\n          sortBy: 'concejo',\n          sortByOrder: Order.ASC\n        });\n        break;\n    }\n  }\n}\nListadoPicosComponent.ɵfac = function ListadoPicosComponent_Factory(t) {\n  return new (t || ListadoPicosComponent)(i0.ɵɵdirectiveInject(i1.PicosQuery), i0.ɵɵdirectiveInject(i2.PicosService));\n};\nListadoPicosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListadoPicosComponent,\n  selectors: [[\"app-listado-picos\"]],\n  decls: 11,\n  vars: 5,\n  consts: [[1, \"my-3\", 3, \"formGroup\"], [1, \"row\", \"justify-content-xl-end\"], [1, \"col-12\", \"col-md-4\", \"col-xl-3\"], [3, \"cambioOrdenacion\"], [1, \"col-12\", \"col-md-8\", \"col-xl-3\"], [3, \"searchText\"], [1, \"row\"], [4, \"ngIf\", \"ngIfElse\"], [\"noResults\", \"\"], [\"class\", \"col-12 col-sm-6 col-md-4 col-xl-3 my-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-12\", \"text-md-right\"], [1, \"btn\", \"btn-primary\", \"d-block\", \"d-md-inline-block\", \"my-2\", 3, \"routerLink\"], [1, \"icon\"], [0, \"xlink\", \"href\", \"#progress\"], [1, \"col-12\", \"col-sm-6\", \"col-md-4\", \"col-xl-3\", \"my-3\"], [1, \"card\", \"h-100\"], [\"fotoPorDefecto\", \"\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-subtitle\", \"mb-3\"], [3, \"routerLink\"], [\"type\", \"button\", 3, \"ngClass\", \"click\"], [\"picoNoAscendido\", \"\"], [\"alt\", \"Foto del pico\", 1, \"card-img-top\", 3, \"src\"], [\"src\", \"assets/img/default.jpg\", \"alt\", \"Foto del pico\", 1, \"card-img-top\"], [1, \"col-12\", \"pt-4\"]],\n  template: function ListadoPicosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"app-menu-ordenacion\", 3);\n      i0.ɵɵlistener(\"cambioOrdenacion\", function ListadoPicosComponent_Template_app_menu_ordenacion_cambioOrdenacion_3_listener($event) {\n        return ctx.cambiarOrdenacion($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"app-search-bar\", 5);\n      i0.ɵɵlistener(\"searchText\", function ListadoPicosComponent_Template_app_search_bar_searchText_5_listener($event) {\n        return ctx.nuevaBusqueda($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵtemplate(7, ListadoPicosComponent_ng_container_7_Template, 8, 5, \"ng-container\", 7);\n      i0.ɵɵpipe(8, \"async\");\n      i0.ɵɵtemplate(9, ListadoPicosComponent_ng_template_9_Template, 3, 0, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(10);\n      let tmp_1_0;\n      i0.ɵɵproperty(\"formGroup\", ctx.listadoPicos);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = i0.ɵɵpipeBind1(8, 3, ctx.picos$)) == null ? null : tmp_1_0.length)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.RouterLinkWithHref, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.FormGroupDirective, i6.SearchBarComponent, i7.MenuOrdenacionComponent, i3.AsyncPipe, i3.DecimalPipe],\n  styles: [\".card-body[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n}\\n\\n.card-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  margin-top: auto;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%] {\\n  margin-right: 5px;\\n  margin-top: -10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3RhZG8tcGljb3MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSwyQkFBQTtBQUNKOztBQUVBO0VBQ0ksZ0JBQUE7QUFDSjs7QUFFQTtFQUNJLGlCQUFBO0VBQ0EsaUJBQUE7QUFDSiIsImZpbGUiOiJsaXN0YWRvLXBpY29zLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmQtYm9keSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcclxufVxyXG5cclxuLmNhcmQtYm9keSBidXR0b24ge1xyXG4gICAgbWFyZ2luLXRvcDogYXV0bztcclxufVxyXG5cclxuLmJ0bi1wcmltYXJ5IC5pY29ue1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtMTBweDtcclxufSJdfQ== */\"]\n});","map":{"version":3,"sources":["C:\\Users\\guita\\Documents\\GitHub\\MisTechosAsturias2\\src\\app\\components\\listado-picos\\listado-picos.component.ts","C:\\Users\\guita\\Documents\\GitHub\\MisTechosAsturias2\\src\\app\\components\\listado-picos\\listado-picos.component.html"],"names":[],"mappings":"AACA,SAAS,SAAS,QAAQ,gBAAgB;AAC1C,SAAS,KAAK,QAAQ,iBAAiB;AACvC,SAAS,UAAU,QAAQ,MAAM;AAIjC,SAAyB,iBAAiB,QAAQ,8CAA8C;;;;;;;;;;;ICM5E,EAAA,CAAA,uBAAA,CAAA,CAAA,CAAsD;IAClD,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAA+E;IACnF,EAAA,CAAA,qBAAA,CAAA,CAAe;;;;IADe,EAAA,CAAA,SAAA,CAAA,CAAA,CAAgC;IAAhC,EAAA,CAAA,sBAAA,CAAA,KAAA,EAAA,aAAA,EAAA,OAAA,CAAA,MAAA,EAAA,EAAA,EAAA,EAAA,CAAA,aAAA,CAAgC;;;;;IAG1D,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAA2E;;;;;IASvE,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,MAAA,CAAkD;IAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,SAAA,CAAE;IAAA,EAAA,CAAA,YAAA,CAAA,CAAO;;;;;IAC7B,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,IAAA,CAAE;;;;;;;;;;;;;;;;IAhBhD,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAA0F,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA;IAElF,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,kEAAA,EAAA,CAAA,EAAA,CAAA,EAAA,cAAA,EAAA,CAAA,CAEe;IACf,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,iEAAA,EAAA,CAAA,EAAA,CAAA,EAAA,aAAA,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,CAAA,sBAAA,CAEc;IACd,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAuB,CAAA,CAAA,EAAA,IAAA,EAAA,EAAA,CAAA;IACI,EAAA,CAAA,MAAA,CAAA,CAAA,CAAwD;;IAAA,EAAA,CAAA,YAAA,CAAA,CAAK;IACpF,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA,EAAA,EAAA,CAA+B;IAAA,EAAA,CAAA,MAAA,CAAA,EAAA,CAAgB;IAAA,EAAA,CAAA,YAAA,CAAA,CAAK;IACpD,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,CAAG,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,CAAA;IAAwC,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,iBAAA,CAAU;IAAA,EAAA,CAAA,YAAA,CAAA,CAAI,CAAA,CAAA;IACzD,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,QAAA,EAAA,EAAA,CAEmC;IAA/B,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,4EAAA,CAAA,EAAA;MAAA,MAAA,WAAA,GAAA,EAAA,CAAA,aAAA,CAAA,IAAA,CAAA;MAAA,MAAA,OAAA,GAAA,WAAA,CAAA,SAAA;MAAA,MAAA,OAAA,GAAA,EAAA,CAAA,aAAA,CAAA,CAAA,CAAA;MAAA,OAAS,EAAA,CAAA,WAAA,CAAA,OAAA,CAAA,cAAA,CAAA,OAAA,CAAoB,CAAA;IAAA,CAAA,CAAC;IAAC,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,aAAA,CAC/B;IAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,2DAAA,EAAA,CAAA,EAAA,CAAA,EAAA,MAAA,EAAA,CAAA,CAA2D;IAC3D,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,kEAAA,EAAA,CAAA,EAAA,CAAA,EAAA,aAAA,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,CAAA,sBAAA,CAA8C;IAClD,EAAA,CAAA,YAAA,CAAA,CAAS,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;;IAfE,EAAA,CAAA,SAAA,CAAA,CAAA,CAAkB;IAAlB,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,OAAA,CAAA,MAAA,CAAkB,CAAA,UAAA,EAAA,GAAA,CAAA;IAON,EAAA,CAAA,SAAA,CAAA,CAAA,CAAwD;IAAxD,EAAA,CAAA,kBAAA,CAAA,EAAA,EAAA,OAAA,CAAA,MAAA,EAAA,IAAA,EAAA,EAAA,CAAA,WAAA,CAAA,CAAA,EAAA,CAAA,EAAA,OAAA,CAAA,MAAA,EAAA,OAAA,EAAA,IAAA,CAAA,EAAA,IAAA,CAAwD;IAChD,EAAA,CAAA,SAAA,CAAA,CAAA,CAAgB;IAAhB,EAAA,CAAA,iBAAA,CAAA,OAAA,CAAA,OAAA,CAAgB;IACzC,EAAA,CAAA,SAAA,CAAA,CAAA,CAAoC;IAApC,EAAA,CAAA,UAAA,CAAA,YAAA,EAAA,EAAA,CAAA,eAAA,CAAA,EAAA,EAAA,GAAA,EAAA,OAAA,CAAA,EAAA,CAAA,CAAoC;IAEtC,EAAA,CAAA,SAAA,CAAA,CAAA,CAAoI;IAApI,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,EAAA,CAAA,eAAA,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,OAAA,CAAA,SAAA,EAAA,OAAA,CAAA,SAAA,CAAA,CAAoI;IAE7H,EAAA,CAAA,SAAA,CAAA,CAAA,CAAqB;IAArB,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,OAAA,CAAA,SAAA,CAAqB,CAAA,UAAA,EAAA,GAAA,CAAA;;;;;;;;IAhBhD,EAAA,CAAA,uBAAA,CAAA,CAAA,CAA8D;IAC1D,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,mDAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KAAA,EAAA,CAAA,CAoBM;;IACN,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAkC,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA;IACyD,EAAA,CAAA,cAAA,CAAA,CAAkB;IAAlB,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAkB;IAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAA8B;IAAA,EAAA,CAAA,YAAA,CAAA,CAAM;IAAC,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,eAAA,CAAY;IAAA,EAAA,CAAA,YAAA,CAAA,CAAI,CAAA,CAAA;IAEtK,EAAA,CAAA,qBAAA,CAAA,CAAe;;;;IAxBW,EAAA,CAAA,SAAA,CAAA,CAAA,CAAmB;IAAnB,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,EAAA,CAAA,WAAA,CAAA,CAAA,EAAA,CAAA,EAAA,MAAA,CAAA,MAAA,CAAA,CAAmB;IAsBlC,EAAA,CAAA,SAAA,CAAA,CAAA,CAA4B;IAA5B,EAAA,CAAA,UAAA,CAAA,YAAA,EAAA,EAAA,CAAA,eAAA,CAAA,CAAA,EAAA,GAAA,CAAA,CAA4B;;;;;IAInC,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAyB,CAAA,CAAA,EAAA,GAAA,CAAA;IAClB,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,yCAAA,CAAkC;IAAA,EAAA,CAAA,YAAA,CAAA,CAAI,CAAA,CAAA;;;ADxBzD,OAAM,MAAO,qBAAqB,CAAA;EAIhC,WAAA,CACU,UAAsB,EACtB,YAA0B,EAAA;IAD1B,IAAA,CAAA,UAAU,GAAV,UAAU;IACV,IAAA,CAAA,YAAY,GAAZ,YAAY;IALtB,IAAA,CAAA,MAAM,GAAuB,IAAI,UAAU,CAAA,CAAE;IAO3C,IAAI,CAAC,YAAY,GAAG,IAAI,SAAS,CAAC,CAAA,CAAG,CAAC;EACvC;EAED,QAAQ,CAAA,EAAA;IACN,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAA,CAAE;EAC3C;EAEA,cAAc,CAAC,IAAU,EAAA;IACvB,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC;EACzC;EAEA,aAAa,CAAC,UAAkB,EAAA;IAC9B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC;MAAC,UAAU,EAAE;IAAU,CAAC,CAAC;EAChF;EAEA,iBAAiB,CAAC,eAA+B,EAAA;IAC/C,QAAO,eAAe;MACpB,KAAK,iBAAiB,CAAC,WAAW;QAChC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC;UAAC,MAAM,EAAE,QAAQ;UAAE,WAAW,EAAE,KAAK,CAAC;QAAI,CAAC,CAAC;QACnG;MACA,KAAK,iBAAiB,CAAC,UAAU;QAC/B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC;UAAC,MAAM,EAAE,QAAQ;UAAE,WAAW,EAAE,KAAK,CAAC;QAAG,CAAC,CAAC;QAClG;MACA,KAAK,iBAAiB,CAAC,oBAAoB;QACzC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC;UAAC,MAAM,EAAE,QAAQ;UAAE,WAAW,EAAE,KAAK,CAAC;QAAG,CAAC,CAAC;QAClG;MACA;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC;UAAC,MAAM,EAAE,SAAS;UAAE,WAAW,EAAE,KAAK,CAAC;QAAG,CAAC,CAAC;QACnG;IACD;EACH;;;mBAtCW,qBAAqB,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,YAAA,CAAA,CAAA;AAAA,CAAA;;QAArB,qBAAqB;EAAA,SAAA,EAAA,CAAA,CAAA,mBAAA,CAAA,CAAA;EAAA,KAAA,EAAA,EAAA;EAAA,IAAA,EAAA,CAAA;EAAA,MAAA,EAAA,CAAA,CAAA,CAAA,EAAA,MAAA,EAAA,CAAA,EAAA,WAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,wBAAA,CAAA,EAAA,CAAA,CAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,CAAA,CAAA,EAAA,kBAAA,CAAA,EAAA,CAAA,CAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA,CAAA,EAAA,CAAA,CAAA,EAAA,MAAA,EAAA,UAAA,CAAA,EAAA,CAAA,WAAA,EAAA,EAAA,CAAA,EAAA,CAAA,OAAA,EAAA,wCAAA,EAAA,CAAA,EAAA,OAAA,EAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAA,QAAA,EAAA,eAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,aAAA,EAAA,SAAA,EAAA,mBAAA,EAAA,MAAA,EAAA,CAAA,EAAA,YAAA,CAAA,EAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,EAAA,MAAA,EAAA,WAAA,CAAA,EAAA,CAAA,CAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,UAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,MAAA,EAAA,OAAA,CAAA,EAAA,CAAA,gBAAA,EAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,WAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,CAAA,EAAA,CAAA,CAAA,EAAA,eAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,CAAA,EAAA,CAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,SAAA,EAAA,OAAA,CAAA,EAAA,CAAA,iBAAA,EAAA,EAAA,CAAA,EAAA,CAAA,KAAA,EAAA,eAAA,EAAA,CAAA,EAAA,cAAA,EAAA,CAAA,EAAA,KAAA,CAAA,EAAA,CAAA,KAAA,EAAA,wBAAA,EAAA,KAAA,EAAA,eAAA,EAAA,CAAA,EAAA,cAAA,CAAA,EAAA,CAAA,CAAA,EAAA,QAAA,EAAA,MAAA,CAAA,CAAA;EAAA,QAAA,EAAA,SAAA,8BAAA,CAAA,EAAA,EAAA,GAAA,EAAA;IAAA,IAAA,EAAA,GAAA,CAAA,EAAA;MCdlC,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,MAAA,EAAA,CAAA,CAA8C,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAAA,CAAA,EAAA,qBAAA,EAAA,CAAA,CAAA;MAGb,EAAA,CAAA,UAAA,CAAA,kBAAA,EAAA,SAAA,8EAAA,CAAA,MAAA,EAAA;QAAA,OAAoB,GAAA,CAAA,iBAAA,CAAA,MAAA,CAAyB;MAAA,CAAA,CAAC;MAAC,EAAA,CAAA,YAAA,CAAA,CAAsB,CAAA,CAAA;MAE9F,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAsC,CAAA,CAAA,EAAA,gBAAA,EAAA,CAAA,CAAA;MAClB,EAAA,CAAA,UAAA,CAAA,YAAA,EAAA,SAAA,mEAAA,CAAA,MAAA,EAAA;QAAA,OAAc,GAAA,CAAA,aAAA,CAAA,MAAA,CAAqB;MAAA,CAAA,CAAC;MAAC,EAAA,CAAA,YAAA,CAAA,CAAiB,CAAA,CAAA,CAAA,CAAA;MAG9E,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAiB;MACb,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,6CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,cAAA,EAAA,CAAA,CAyBe;;MACf,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,4CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,aAAA,EAAA,IAAA,EAAA,CAAA,EAAA,EAAA,CAAA,sBAAA,CAIc;MAClB,EAAA,CAAA,YAAA,CAAA,CAAM,CAAA,CAAA;;;;;MAzCS,EAAA,CAAA,UAAA,CAAA,WAAA,EAAA,GAAA,CAAA,YAAA,CAA0B;MAUtB,EAAA,CAAA,SAAA,CAAA,CAAA,CAA+B;MAA/B,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,OAAA,GAAA,EAAA,CAAA,WAAA,CAAA,CAAA,EAAA,CAAA,EAAA,GAAA,CAAA,MAAA,CAAA,KAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,MAAA,CAA+B,CAAA,UAAA,EAAA,GAAA,CAAA","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Order } from '@datorama/akita';\r\nimport { Observable } from 'rxjs';\r\nimport { Pico } from 'src/app/state/pico.model';\r\nimport { PicosQuery } from 'src/app/state/picos.query';\r\nimport { PicosService } from 'src/app/state/picos.service';\r\nimport { TipoOrdenacion, tiposdeOrdenacion } from '../menu-ordenacion/menu-ordenacion.component';\r\n\r\n@Component({\r\n  selector: 'app-listado-picos',\r\n  templateUrl: './listado-picos.component.html',\r\n  styleUrls: ['./listado-picos.component.scss']\r\n})\r\nexport class ListadoPicosComponent implements OnInit {\r\n  picos$: Observable<Pico[]> = new Observable();\r\n  listadoPicos;\r\n\r\n  constructor(\r\n    private picosQuery: PicosQuery,\r\n    private picosService: PicosService\r\n  ) { \r\n    this.listadoPicos = new FormGroup({ });\r\n   }\r\n\r\n  ngOnInit(): void {    \r\n    this.picos$ = this.picosQuery.selectAll();\r\n  }\r\n\r\n  clickAscendido(pico: Pico) {\r\n    this.picosService.toggleAscendido(pico);\r\n  }\r\n\r\n  nuevaBusqueda(searchTerm: string) {\r\n    this.picos$ = this.picosQuery.parameterizedSelectAll({searchText: searchTerm});\r\n  }\r\n\r\n  cambiarOrdenacion(nuevaOrdenacion: TipoOrdenacion) {\r\n    switch(nuevaOrdenacion) {\r\n      case tiposdeOrdenacion.altituddesc:\r\n        this.picos$ = this.picosQuery.parameterizedSelectAll({sortBy: 'altura', sortByOrder: Order.DESC});\r\n      break;\r\n      case tiposdeOrdenacion.altitudasc:\r\n        this.picos$ = this.picosQuery.parameterizedSelectAll({sortBy: 'altura', sortByOrder: Order.ASC});\r\n      break;\r\n      case tiposdeOrdenacion.nombrepicoalfabetico:\r\n        this.picos$ = this.picosQuery.parameterizedSelectAll({sortBy: 'nombre', sortByOrder: Order.ASC});\r\n      break;\r\n      default:\r\n        this.picos$ = this.picosQuery.parameterizedSelectAll({sortBy: 'concejo', sortByOrder: Order.ASC});\r\n      break;\r\n    }\r\n  }\r\n}\r\n","<form class=\"my-3\" [formGroup]=\"listadoPicos\">\r\n    <div class=\"row justify-content-xl-end\">\r\n        <div class=\"col-12 col-md-4 col-xl-3\">\r\n            <app-menu-ordenacion (cambioOrdenacion)=\"cambiarOrdenacion($event)\"></app-menu-ordenacion>\r\n        </div>\r\n        <div class=\"col-12 col-md-8 col-xl-3\">\r\n            <app-search-bar (searchText)=\"nuevaBusqueda($event)\"></app-search-bar>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <ng-container *ngIf=\"(picos$ | async)?.length else noResults\">\r\n            <div *ngFor=\"let pico of (picos$ | async)\" class=\"col-12 col-sm-6 col-md-4 col-xl-3 my-3\">\r\n                <div class=\"card h-100\">\r\n                    <ng-container *ngIf=\"pico.imagen else fotoPorDefecto\">\r\n                        <img class=\"card-img-top\" src=\"assets/img/{{pico.imagen}}\" alt=\"Foto del pico\">\r\n                    </ng-container>\r\n                    <ng-template #fotoPorDefecto>\r\n                        <img class=\"card-img-top\" src=\"assets/img/default.jpg\" alt=\"Foto del pico\">\r\n                    </ng-template>\r\n                    <div class=\"card-body\">\r\n                        <h2 class=\"card-title\">{{pico.nombre}} ({{pico.altura | number:'3.0-1':'es'}}m)</h2>\r\n                        <h3 class=\"card-subtitle mb-3\">{{pico.concejo}}</h3>\r\n                        <p><a [routerLink]=\"['/detalle', pico.id]\">+ Más info</a></p>\r\n                        <button type=\"button\"\r\n                            [ngClass]=\"{'btn btn-block align-self-end w-100': true, 'btn-outline-secondary': !pico.ascendido, 'btn-secondary': pico.ascendido }\"\r\n                            (click)=\"clickAscendido(pico)\">Ascendido:\r\n                            <span *ngIf=\"pico.ascendido else picoNoAscendido\">Sí</span>\r\n                            <ng-template #picoNoAscendido>No</ng-template>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12 text-md-right\">\r\n                <a [routerLink]=\"['/progreso']\" class=\"btn btn-primary d-block d-md-inline-block my-2\"><svg class=\"icon\"><use xlink:href=\"#progress\" /></svg> Ver progreso</a>\r\n            </div>\r\n        </ng-container>\r\n        <ng-template #noResults>\r\n            <div class=\"col-12 pt-4\">\r\n                <p>No hay resultados para la búsqueda</p>\r\n            </div>\r\n        </ng-template>\r\n    </div>\r\n</form>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}